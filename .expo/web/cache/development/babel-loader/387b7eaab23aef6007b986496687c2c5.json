{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Project\\\\TourOn\\\\Touron-Mobileapp-1\\\\src\\\\Screens\\\\CategoryScreens\\\\WildlifeScreen.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport DatePicker from \"react-native-datepicker\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport Tourname from \"./Reusable components/Tourname\";\nimport Checkout from \"./Reusable components/Checkout\";\nimport Destination from \"./Reusable components/Destination\";\nimport Travellertype from \"./Reusable components/Travellertype\";\nimport Travelmode from \"./Reusable components/Travelmode\";\nimport Touristnumber from \"./Reusable components/Touristnumber\";\nimport { database } from \"firebase\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport NationalPark from \"./Reusable components/NationalPark\";\nimport SubmittedQuery from \"./Reusable components/SubmittedQuery\";\nimport moment from \"moment\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { getExpoToken, sendPushNotification, sendEmail } from \"./utils/PushNotification\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\n\nvar WildLife = function WildLife(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      travellerType = _React$useState2[0],\n      setTravellerType = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      adult = _React$useState4[0],\n      _setAdult = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      children = _React$useState6[0],\n      _setChildren = _React$useState6[1];\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      fromDate = _useState2[0],\n      setFromDate = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toDate = _useState4[0],\n      setToDate = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nationalPark = _useState6[0],\n      _setNationalPark = _useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      travelMode = _React$useState8[0],\n      setTravelMode = _React$useState8[1];\n\n  var _React$useState9 = React.useState(\"\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      preferanece = _React$useState10[0],\n      _setPreferanece = _React$useState10[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      startPoint = _useState8[0],\n      _setStartPoint = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      name = _useState10[0],\n      _setName = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      budget = _useState12[0],\n      _setBudget = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      number = _useState14[0],\n      _setNumber = _useState14[1];\n\n  var _useState15 = useState(1),\n      _useState16 = _slicedToArray(_useState15, 2),\n      step = _useState16[0],\n      setStep = _useState16[1];\n\n  var _useContext = useContext(AuthContext),\n      isLoggedIn = _useContext.isLoggedIn,\n      userInfo = _useContext.userInfo;\n\n  var isFocused = useIsFocused();\n\n  var _useState17 = useState(nationalPark),\n      _useState18 = _slicedToArray(_useState17, 2),\n      destination = _useState18[0],\n      _setDestination = _useState18[1];\n\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      if (route.params !== undefined) {\n        var countryName = route.params.countryName;\n        var type = route.params.type;\n        {\n          type == \"International\" ? setTourType(type) : setTourType(\"Domestic\");\n        }\n        setStep(3);\n\n        _setDestination(countryName);\n      }\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      if (!isLoggedIn) {\n        navigation.jumpTo(\"SignInScreen\");\n      }\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, [isFocused]);\n\n  var handleFromDate = function handleFromDate(date) {\n    setFromDate(date);\n  };\n\n  var handleToDate = function handleToDate(date) {\n    setToDate(date);\n  };\n\n  var _nextStep = function nextStep() {\n    setStep(step + 1);\n  };\n\n  var _prevStep = function prevStep() {\n    setStep(step - 1);\n  };\n\n  var description = \"Are you a complete animal lover, have a fondness of forests and love a little rendezvous in to the beauty of nature? Destinations for this tour includes all the National Parks within India.\\n\\nCome and explore with tour On, India\\u2019s amazing National Parks and wildlife sanctuaries which are home to rich flora and fauna. Get up close and personal with nature and leave with a rejuvenation that isn\\u2019t found elsewhere. For all the wildlife enthusiasts, we offer you a wide range of experiences and a variety of adrenaline-pumping activities to make your trip all the more adventurous. You can have your pick from the list of activities and destinations and have a magnificent wildlife adventure that you will never forget!\\n\";\n\n  var renderForm = function renderForm(step) {\n    switch (step) {\n      case 1:\n        return React.createElement(Tourname, {\n          navigation: navigation,\n          tourName: \"Wildlife\",\n          step: function step() {\n            return _nextStep();\n          },\n          imgSrc: \"https://image.freepik.com/free-vector/wild-animals-protection-abstract-concept-illustration-wildlife-preservation-biodiversity-protection-save-wild-animals-population-control-prevent-species-extinction_335657-3435.jpg\",\n          description: description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 11\n          }\n        });\n\n      case 2:\n        return React.createElement(NationalPark, {\n          tourName: \"Wildlife\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          nationalPark: nationalPark,\n          setNationalPark: function setNationalPark(name) {\n            _setNationalPark(name);\n\n            _setDestination(name);\n\n            setStep(step + 1);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }\n        });\n\n      case 3:\n        return React.createElement(Travellertype, {\n          tourName: \"Wildlife\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          travellerType: travellerType,\n          setSolo: function setSolo() {\n            setTravellerType(\"Solo\");\n            setStep(5);\n          },\n          setFamily: function setFamily() {\n            return setTravellerType(\"Family\");\n          },\n          setFriends: function setFriends() {\n            return setTravellerType(\"Friends\");\n          },\n          setHoneymoon: function setHoneymoon() {\n            return setTravellerType(\"Honeymoon\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }\n        });\n\n      case 4:\n        return React.createElement(Touristnumber, {\n          tourName: \"Wildlife\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc1: \"https://image.freepik.com/free-vector/illustration-with-young-people-concept_23-2148467324.jpg\",\n          imgScr2: \"https://image.freepik.com/free-vector/smiling-boy-girl-kids-holding-hands-childhood-friendship-concept-love-romance-children-cartoon-characters-flat-vector-illustration-isolated-white-background_71593-450.jpg\",\n          adult: adult,\n          children: children,\n          setChildren: function setChildren(value) {\n            return _setChildren(value);\n          },\n          setAdult: function setAdult(value) {\n            return _setAdult(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }\n        });\n\n      case 5:\n        return React.createElement(Travelmode, {\n          tourName: \"Wildlife\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc1: \"https://image.freepik.com/free-vector/train-ride-railroad_1308-11154.jpg\",\n          imgScr2: \"https://image.freepik.com/free-vector/airplane-sky_1308-31202.jpg\",\n          name1: \"Train\",\n          name2: \"Flight\",\n          travelMode: travelMode,\n          setTrain: function setTrain() {\n            return setTravelMode(\"Train\");\n          },\n          setFlight: function setFlight() {\n            return setTravelMode(\"Flight\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 11\n          }\n        });\n\n      case 6:\n        return React.createElement(View, {\n          style: {\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: {\n            width: WIDTH * 0.9,\n            alignItems: \"flex-end\",\n            justifyContent: \"center\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            marginHorizontal: 30,\n            position: \"relative\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _prevStep();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }\n        }, React.createElement(AntDesign, {\n          name: \"arrowleft\",\n          size: 28,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 19\n          }\n        }))), React.createElement(Text, {\n          style: {\n            fontSize: 20,\n            fontFamily: \"NewYorkl\",\n            marginTop: Platform.OS == \"android\" ? HEIGHT / 14 : 40\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }\n        }, \"Wildlife\"), React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _nextStep();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }\n        }, fromDate !== \"\" && toDate !== \"\" ? React.createElement(AntDesign, {\n          name: \"arrowright\",\n          size: 28,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 21\n          }\n        }) : null))), React.createElement(View, {\n          style: styles.imageContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: {\n            height: HEIGHT / 3,\n            width: WIDTH * 0.8\n          },\n          source: {\n            uri: \"https://image.freepik.com/free-vector/build-your-program-appointment-booking_23-2148552954.jpg\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }\n        })), React.createElement(View, {\n          style: {\n            marginVertical: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 16,\n            textAlign: \"center\",\n            fontFamily: \"NewYorkl\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }\n        }, \"When do you want to embark on your journey?\"), React.createElement(View, {\n          style: styles.dateContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: {\n            width: WIDTH / 3.8\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 18,\n            fontFamily: \"Andika\",\n            paddingLeft: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 19\n          }\n        }, \"Onward\")), React.createElement(DatePicker, {\n          onOpenModal: {\n            useNativeDriver: true\n          },\n          style: {\n            width: 200\n          },\n          date: fromDate,\n          mode: \"date\",\n          placeholder: \"select date\",\n          format: \"YYYY-MM-DD\",\n          minDate: moment().add(14, \"days\").format(\"YYYY-MM-DD\"),\n          confirmBtnText: \"Confirm\",\n          cancelBtnText: \"Cancel\",\n          onDateChange: function onDateChange(date) {\n            handleFromDate(date);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }\n        })), React.createElement(View, {\n          style: styles.dateContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: {\n            width: WIDTH / 3.8\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 20,\n            fontFamily: \"Andika\",\n            paddingLeft: Platform.OS === \"ios\" ? 15 : 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 19\n          }\n        }, \"Return\")), React.createElement(DatePicker, {\n          style: {\n            width: 200\n          },\n          date: toDate,\n          mode: \"date\",\n          placeholder: \"select date\",\n          format: \"YYYY-MM-DD\",\n          minDate: fromDate,\n          confirmBtnText: \"Confirm\",\n          cancelBtnText: \"Cancel\",\n          onDateChange: function onDateChange(date) {\n            handleToDate(date);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }\n        }))));\n\n      case 7:\n        return React.createElement(Destination, {\n          tourName: \"Wildlife\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc: \"https://image.freepik.com/free-vector/destination-concept-illustration_114360-453.jpg\",\n          destination: destination,\n          preferanece: preferanece,\n          startPoint: startPoint,\n          setDestination: function setDestination(value) {\n            return _setDestination(value);\n          },\n          setStartPoint: function setStartPoint(value) {\n            return _setStartPoint(value);\n          },\n          setPreferanece: function setPreferanece(value) {\n            return _setPreferanece(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 11\n          }\n        });\n\n      case 8:\n        return React.createElement(Checkout, {\n          tourName: \"Wildlife\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc: \"https://image.freepik.com/free-vector/business-background-design_1270-63.jpg\",\n          setName: function setName(value) {\n            return _setName(value);\n          },\n          setNumber: function setNumber(value) {\n            return _setNumber(value);\n          },\n          setBudget: function setBudget(value) {\n            return _setBudget(value);\n          },\n          submitData: function submitData() {\n            return _submitData();\n          },\n          name: name,\n          number: number,\n          budget: budget,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 11\n          }\n        });\n\n      case 9:\n        return React.createElement(SubmittedQuery, {\n          navigation: navigation,\n          type: \"My Request\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        break;\n    }\n  };\n\n  var _submitData = function _submitData() {\n    var userID = userInfo.userID;\n    var v = moment().format(\"L\");\n    var r = Math.floor((Math.random() + 4) * 345334);\n    var data = {\n      requestID: \"TO-\" + v.slice(3, 5) + v.slice(0, 2) + v.slice(8) + \"-\" + r,\n      nationalPark: nationalPark,\n      tourCategory: \"Wildlife\",\n      travellerType: travellerType,\n      fromDate: fromDate,\n      adult: adult,\n      children: children,\n      travelMode: travelMode,\n      startPoint: startPoint,\n      toDate: toDate,\n      preferanece: preferanece,\n      destination: destination,\n      name: name,\n      number: number,\n      budget: budget,\n      status: \"Query Received\",\n      userID: userID,\n      plans: \"\",\n      reports: \"\",\n      tourCost: 0,\n      requestDate: new Date().toDateString()\n    };\n    database().ref(\"requests\").push(data).then(function (data) {\n      var token = getExpoToken(userID);\n      sendEmail(userInfo.email, destination);\n      var message = {\n        to: token,\n        sound: \"default\",\n        title: \"Query Received\",\n        body: \"Congratulations! You are one step closer to your dream tour. Your query is under review and tour On will contact you with more details and suggestions. The booking process will start after your confirmation. Please check the My Requests tab for updates.\"\n      };\n      sendPushNotification(message);\n\n      _nextStep();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }\n  }, step == 1 || step == 9 ? null : React.createElement(View, {\n    style: styles.progressContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      borderRadius: 20,\n      height: 6.5,\n      borderWidth: 2,\n      borderColor: \"#a2cffe\",\n      paddingVertical: 1,\n      width: WIDTH <= 360 ? 38.5 * step : 45 * step,\n      overflow: \"hidden\",\n      backgroundColor: \"#a2cffe\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 13\n    }\n  })), renderForm(step)));\n};\n\nexport default WildLife;\nvar styles = StyleSheet.create({\n  progressContainer: {\n    height: 10,\n    marginHorizontal: 25,\n    borderWidth: 2,\n    borderColor: \"#f0f8ff\",\n    borderRadius: 20,\n    paddingTop: Platform.OS === \"ios\" ? 70 : 20\n  },\n  dateContainer: {\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    marginVertical: 20\n  },\n  container: {\n    backgroundColor: \"#fff\",\n    flex: 1,\n    position: \"relative\"\n  },\n  arrowsContainer: {\n    alignItems: \"flex-end\",\n    justifyContent: \"center\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginHorizontal: WIDTH / 15,\n    position: \"relative\"\n  },\n  imageContainer: {\n    height: HEIGHT / 2.5,\n    width: WIDTH,\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  text: {\n    marginTop: 8,\n    fontSize: 16,\n    fontFamily: \"Andika\",\n    textAlign: \"justify\"\n  }\n});","map":{"version":3,"sources":["D:/Project/TourOn/Touron-Mobileapp-1/src/Screens/CategoryScreens/WildlifeScreen.js"],"names":["React","useState","useEffect","useContext","DatePicker","AntDesign","TouchableOpacity","Tourname","Checkout","Destination","Travellertype","Travelmode","Touristnumber","database","AuthContext","NationalPark","SubmittedQuery","moment","useIsFocused","getExpoToken","sendPushNotification","sendEmail","WIDTH","Dimensions","get","width","HEIGHT","height","WildLife","navigation","route","travellerType","setTravellerType","adult","setAdult","children","setChildren","fromDate","setFromDate","toDate","setToDate","nationalPark","setNationalPark","travelMode","setTravelMode","preferanece","setPreferanece","startPoint","setStartPoint","name","setName","budget","setBudget","number","setNumber","step","setStep","isLoggedIn","userInfo","isFocused","destination","setDestination","mounted","params","undefined","countryName","type","setTourType","jumpTo","handleFromDate","date","handleToDate","nextStep","prevStep","description","renderForm","value","alignItems","justifyContent","flexDirection","marginHorizontal","position","fontSize","fontFamily","marginTop","Platform","OS","styles","imageContainer","uri","marginVertical","textAlign","dateContainer","paddingLeft","useNativeDriver","add","format","submitData","userID","v","r","Math","floor","random","data","requestID","slice","tourCategory","status","plans","reports","tourCost","requestDate","Date","toDateString","ref","push","then","token","email","message","to","sound","title","body","catch","err","console","log","flex","container","progressContainer","borderRadius","borderWidth","borderColor","paddingVertical","overflow","backgroundColor","StyleSheet","create","paddingTop","arrowsContainer","text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport DatePicker from \"react-native-datepicker\";\r\n\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  ScrollView,\r\n  KeyboardAvoidingView,\r\n  Dimensions,\r\n  Text,\r\n  Image,\r\n  Platform,\r\n} from \"react-native\";\r\nimport { AntDesign } from \"@expo/vector-icons\";\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\nimport Tourname from \"./Reusable components/Tourname\";\r\nimport Checkout from \"./Reusable components/Checkout\";\r\nimport Destination from \"./Reusable components/Destination\";\r\nimport Travellertype from \"./Reusable components/Travellertype\";\r\nimport Travelmode from \"./Reusable components/Travelmode\";\r\nimport Touristnumber from \"./Reusable components/Touristnumber\";\r\nimport { database } from \"firebase\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport NationalPark from \"./Reusable components/NationalPark\";\r\nimport SubmittedQuery from \"./Reusable components/SubmittedQuery\";\r\nimport moment from \"moment\";\r\nimport { useIsFocused } from \"@react-navigation/native\";\r\nimport {\r\n  getExpoToken,\r\n  sendPushNotification,\r\n  sendEmail,\r\n} from \"./utils/PushNotification\";\r\nconst WIDTH = Dimensions.get(\"window\").width;\r\nconst HEIGHT = Dimensions.get(\"window\").height;\r\n\r\nconst WildLife = ({ navigation, route }) => {\r\n  const [travellerType, setTravellerType] = React.useState(\"\");\r\n  const [adult, setAdult] = React.useState(0);\r\n  const [children, setChildren] = React.useState(0);\r\n  const [fromDate, setFromDate] = useState(\"\");\r\n  const [toDate, setToDate] = useState(\"\");\r\n  const [nationalPark, setNationalPark] = useState(\"\");\r\n  const [travelMode, setTravelMode] = React.useState(\"\");\r\n  const [preferanece, setPreferanece] = React.useState(\"\");\r\n  const [startPoint, setStartPoint] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [budget, setBudget] = useState(\"\");\r\n  const [number, setNumber] = useState(0);\r\n  const [step, setStep] = useState(1);\r\n  const { isLoggedIn, userInfo } = useContext(AuthContext);\r\n  const isFocused = useIsFocused();\r\n  const [destination, setDestination] = useState(nationalPark);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (route.params !== undefined) {\r\n        const countryName = route.params.countryName;\r\n        const type = route.params.type;\r\n        {\r\n          type == \"International\" ? setTourType(type) : setTourType(\"Domestic\");\r\n        }\r\n        setStep(3);\r\n        setDestination(countryName);\r\n      }\r\n    }\r\n    return () => (mounted = false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (!isLoggedIn) {\r\n        navigation.jumpTo(\"SignInScreen\");\r\n      }\r\n    }\r\n    return () => (mounted = false);\r\n  }, [isFocused]);\r\n\r\n  const handleFromDate = (date) => {\r\n    setFromDate(date);\r\n  };\r\n\r\n  const handleToDate = (date) => {\r\n    setToDate(date);\r\n  };\r\n\r\n  const nextStep = () => {\r\n    setStep(step + 1);\r\n  };\r\n  const prevStep = () => {\r\n    setStep(step - 1);\r\n  };\r\n\r\n  const description = `Are you a complete animal lover, have a fondness of forests and love a little rendezvous in to the beauty of nature? Destinations for this tour includes all the National Parks within India.\r\n\r\nCome and explore with tour On, India’s amazing National Parks and wildlife sanctuaries which are home to rich flora and fauna. Get up close and personal with nature and leave with a rejuvenation that isn’t found elsewhere. For all the wildlife enthusiasts, we offer you a wide range of experiences and a variety of adrenaline-pumping activities to make your trip all the more adventurous. You can have your pick from the list of activities and destinations and have a magnificent wildlife adventure that you will never forget!\r\n`;\r\n\r\n  const renderForm = (step) => {\r\n    switch (step) {\r\n      case 1:\r\n        return (\r\n          <Tourname\r\n            navigation={navigation}\r\n            tourName={\"Wildlife\"}\r\n            step={() => nextStep()}\r\n            imgSrc={\r\n              \"https://image.freepik.com/free-vector/wild-animals-protection-abstract-concept-illustration-wildlife-preservation-biodiversity-protection-save-wild-animals-population-control-prevent-species-extinction_335657-3435.jpg\"\r\n            }\r\n            description={description}\r\n          />\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <NationalPark\r\n            tourName={\"Wildlife\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            nationalPark={nationalPark}\r\n            setNationalPark={(name) => {\r\n              setNationalPark(name);\r\n              setDestination(name);\r\n              setStep(step + 1);\r\n            }}\r\n          />\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <Travellertype\r\n            tourName={\"Wildlife\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            travellerType={travellerType}\r\n            setSolo={() => {\r\n              setTravellerType(\"Solo\");\r\n              setStep(5);\r\n            }}\r\n            setFamily={() => setTravellerType(\"Family\")}\r\n            setFriends={() => setTravellerType(\"Friends\")}\r\n            setHoneymoon={() => setTravellerType(\"Honeymoon\")}\r\n          />\r\n        );\r\n\r\n      case 4:\r\n        return (\r\n          <Touristnumber\r\n            tourName={\"Wildlife\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc1={\r\n              \"https://image.freepik.com/free-vector/illustration-with-young-people-concept_23-2148467324.jpg\"\r\n            }\r\n            imgScr2={\r\n              \"https://image.freepik.com/free-vector/smiling-boy-girl-kids-holding-hands-childhood-friendship-concept-love-romance-children-cartoon-characters-flat-vector-illustration-isolated-white-background_71593-450.jpg\"\r\n            }\r\n            adult={adult}\r\n            children={children}\r\n            setChildren={(value) => setChildren(value)}\r\n            setAdult={(value) => setAdult(value)}\r\n          />\r\n        );\r\n      case 5:\r\n        return (\r\n          <Travelmode\r\n            tourName={\"Wildlife\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc1={\r\n              \"https://image.freepik.com/free-vector/train-ride-railroad_1308-11154.jpg\"\r\n            }\r\n            imgScr2={\r\n              \"https://image.freepik.com/free-vector/airplane-sky_1308-31202.jpg\"\r\n            }\r\n            name1={\"Train\"}\r\n            name2={\"Flight\"}\r\n            travelMode={travelMode}\r\n            setTrain={() => setTravelMode(\"Train\")}\r\n            setFlight={() => setTravelMode(\"Flight\")}\r\n          />\r\n        );\r\n      case 6:\r\n        return (\r\n          <View style={{ alignItems: \"center\" }}>\r\n            <View\r\n              style={{\r\n                width: WIDTH * 0.9,\r\n                alignItems: \"flex-end\",\r\n                justifyContent: \"center\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"space-between\",\r\n                marginHorizontal: 30,\r\n                position: \"relative\",\r\n              }}\r\n            >\r\n              <TouchableOpacity\r\n                onPress={() => {\r\n                  prevStep();\r\n                }}\r\n              >\r\n                <View>\r\n                  <AntDesign name=\"arrowleft\" size={28} />\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <Text\r\n                style={{\r\n                  fontSize: 20,\r\n                  fontFamily: \"NewYorkl\",\r\n                  marginTop: Platform.OS == \"android\" ? HEIGHT / 14 : 40,\r\n                }}\r\n              >\r\n                Wildlife\r\n              </Text>\r\n\r\n              <TouchableOpacity\r\n                onPress={() => {\r\n                  nextStep();\r\n                }}\r\n              >\r\n                <View>\r\n                  {fromDate !== \"\" && toDate !== \"\" ? (\r\n                    <AntDesign name=\"arrowright\" size={28} />\r\n                  ) : null}\r\n                </View>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.imageContainer}>\r\n              <Image\r\n                style={{ height: HEIGHT / 3, width: WIDTH * 0.8 }}\r\n                source={{\r\n                  uri: \"https://image.freepik.com/free-vector/build-your-program-appointment-booking_23-2148552954.jpg\",\r\n                }}\r\n              />\r\n            </View>\r\n            <View style={{ marginVertical: 20 }}>\r\n              <Text\r\n                style={{\r\n                  fontSize: 16,\r\n                  textAlign: \"center\",\r\n                  fontFamily: \"NewYorkl\",\r\n                }}\r\n              >\r\n                When do you want to embark on your journey?\r\n              </Text>\r\n              <View style={styles.dateContainer}>\r\n                <View style={{ width: WIDTH / 3.8 }}>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 18,\r\n                      fontFamily: \"Andika\",\r\n                      paddingLeft: 5,\r\n                    }}\r\n                  >\r\n                    Onward\r\n                  </Text>\r\n                </View>\r\n\r\n                <DatePicker\r\n                  onOpenModal={{ useNativeDriver: true }}\r\n                  style={{ width: 200 }}\r\n                  date={fromDate}\r\n                  mode=\"date\"\r\n                  placeholder=\"select date\"\r\n                  format=\"YYYY-MM-DD\"\r\n                  // minDate=\"2016-05-01\"\r\n                  minDate={moment().add(14, \"days\").format(\"YYYY-MM-DD\")}\r\n                  confirmBtnText=\"Confirm\"\r\n                  cancelBtnText=\"Cancel\"\r\n                  onDateChange={(date) => {\r\n                    handleFromDate(date);\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.dateContainer}>\r\n                <View style={{ width: WIDTH / 3.8 }}>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 20,\r\n                      fontFamily: \"Andika\",\r\n                      paddingLeft: Platform.OS === \"ios\" ? 15 : 10,\r\n                    }}\r\n                  >\r\n                    Return\r\n                  </Text>\r\n                </View>\r\n                <DatePicker\r\n                  style={{ width: 200 }}\r\n                  date={toDate}\r\n                  mode=\"date\"\r\n                  placeholder=\"select date\"\r\n                  format=\"YYYY-MM-DD\"\r\n                  minDate={fromDate}\r\n                  confirmBtnText=\"Confirm\"\r\n                  cancelBtnText=\"Cancel\"\r\n                  onDateChange={(date) => {\r\n                    handleToDate(date);\r\n                  }}\r\n                />\r\n              </View>\r\n            </View>\r\n          </View>\r\n        );\r\n      case 7:\r\n        return (\r\n          <Destination\r\n            tourName={\"Wildlife\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc={\r\n              \"https://image.freepik.com/free-vector/destination-concept-illustration_114360-453.jpg\"\r\n            }\r\n            destination={destination}\r\n            preferanece={preferanece}\r\n            startPoint={startPoint}\r\n            setDestination={(value) => setDestination(value)}\r\n            setStartPoint={(value) => setStartPoint(value)}\r\n            setPreferanece={(value) => setPreferanece(value)}\r\n          />\r\n        );\r\n      case 8:\r\n        return (\r\n          <Checkout\r\n            tourName={\"Wildlife\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc={\r\n              \"https://image.freepik.com/free-vector/business-background-design_1270-63.jpg\"\r\n            }\r\n            setName={(value) => setName(value)}\r\n            setNumber={(value) => setNumber(value)}\r\n            setBudget={(value) => setBudget(value)}\r\n            submitData={() => submitData()}\r\n            name={name}\r\n            number={number}\r\n            budget={budget}\r\n          />\r\n        );\r\n\r\n      case 9:\r\n        return <SubmittedQuery navigation={navigation} type={\"My Request\"} />;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const submitData = () => {\r\n    const userID = userInfo.userID;\r\n    const v = moment().format(\"L\");\r\n    const r = Math.floor((Math.random() + 4) * 345334);\r\n\r\n    const data = {\r\n      requestID: `TO-${v.slice(3, 5)}${v.slice(0, 2)}${v.slice(8)}-${r}`,\r\n      nationalPark: nationalPark,\r\n      tourCategory: \"Wildlife\",\r\n      travellerType: travellerType,\r\n      fromDate: fromDate,\r\n      adult: adult,\r\n      children: children,\r\n      travelMode: travelMode,\r\n      startPoint: startPoint,\r\n      toDate: toDate,\r\n      preferanece: preferanece,\r\n      destination: destination,\r\n      name: name,\r\n      number: number,\r\n      budget: budget,\r\n      status: \"Query Received\",\r\n      userID: userID,\r\n      plans: \"\",\r\n      reports: \"\",\r\n      tourCost: 0,\r\n      requestDate: new Date().toDateString(),\r\n    };\r\n\r\n    database()\r\n      .ref(`requests`)\r\n      .push(data)\r\n      .then((data) => {\r\n        const token = getExpoToken(userID);\r\n        sendEmail(userInfo.email, destination);\r\n        const message = {\r\n          to: token,\r\n          sound: \"default\",\r\n          title: `Query Received`,\r\n          body: `Congratulations! You are one step closer to your dream tour. Your query is under review and tour On will contact you with more details and suggestions. The booking process will start after your confirmation. Please check the My Requests tab for updates.`,\r\n        };\r\n        sendPushNotification(message);\r\n        nextStep();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <KeyboardAvoidingView style={{ flex: 1 }}>\r\n      <ScrollView style={styles.container}>\r\n        {step == 1 || step == 9 ? null : (\r\n          <View style={styles.progressContainer}>\r\n            <View\r\n              style={{\r\n                borderRadius: 20,\r\n                height: 6.5,\r\n                borderWidth: 2,\r\n                borderColor: \"#a2cffe\",\r\n                paddingVertical: 1,\r\n                width: WIDTH <= 360 ? 38.5 * step : 45 * step,\r\n                overflow: \"hidden\",\r\n                backgroundColor: \"#a2cffe\",\r\n              }}\r\n            ></View>\r\n          </View>\r\n        )}\r\n        {renderForm(step)}\r\n      </ScrollView>\r\n    </KeyboardAvoidingView>\r\n  );\r\n};\r\n\r\nexport default WildLife;\r\n\r\nconst styles = StyleSheet.create({\r\n  progressContainer: {\r\n    height: 10,\r\n    marginHorizontal: 25,\r\n    // bottom: 0,\r\n    // justifyContent: \"flex-start\",\r\n    borderWidth: 2,\r\n    borderColor: \"#f0f8ff\",\r\n    borderRadius: 20,\r\n    paddingTop: Platform.OS === \"ios\" ? 70 : 20,\r\n  },\r\n  dateContainer: {\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    marginVertical: 20,\r\n  },\r\n  container: {\r\n    backgroundColor: \"#fff\",\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n  arrowsContainer: {\r\n    alignItems: \"flex-end\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginHorizontal: WIDTH / 15,\r\n    position: \"relative\",\r\n  },\r\n  imageContainer: {\r\n    height: HEIGHT / 2.5,\r\n    width: WIDTH,\r\n    alignItems: \"center\",\r\n    marginTop: 20,\r\n  },\r\n  text: {\r\n    marginTop: 8,\r\n    fontSize: 16,\r\n    fontFamily: \"Andika\",\r\n    textAlign: \"justify\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}