{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Project\\\\TourOn\\\\Touron-Mobileapp-1\\\\src\\\\Screens\\\\BlogScreens\\\\BlogHomeScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport touron from \"../../api/touron\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nimport axios from \"axios\";\nimport { AuthContext } from \"./../../context/AuthContext\";\nimport SearchBar from \"./../../Reusable Components/SearchBar\";\nimport BlogTile from \"./BlogTile\";\nimport BlogList from \"./BlogList\";\nimport HeaderTile from \"./../../Reusable Components/HeaderTile\";\n\nvar BlogHomeScreen = function BlogHomeScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useContext = useContext(AuthContext),\n      blogs = _useContext.blogs;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      blog = _useState2[0],\n      setBlog = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setLoaded = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      blogloaded = _useState6[0],\n      setBlogLoaded = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchText = _useState8[0],\n      setSearchText = _useState8[1];\n\n  var _useState9 = useState(\"Recent\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      cat = _useState10[0],\n      setCat = _useState10[1];\n\n  var getBlog = function getBlog() {\n    var blogResponse;\n    return _regeneratorRuntime.async(function getBlog$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(touron.get(\"/blog/search?page=1&pageSize=200\"));\n\n          case 3:\n            blogResponse = _context.sent;\n            setBlog(blogResponse.data);\n            setBlogLoaded(false);\n            setLoaded(false);\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            alert(_context.t0.message);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n\n  var searchs = function searchs() {\n    if (searchText === \"\") return blogs;\n    var da = blogs.filter(function (c) {\n      var _c$countryName;\n\n      return ((_c$countryName = c.countryName) == null ? void 0 : _c$countryName.trim().toUpperCase().includes(searchText.trim().toUpperCase())) || c.blogTitle.trim().toUpperCase().includes(searchText.trim().toUpperCase());\n    });\n    return da;\n  };\n\n  useEffect(function () {\n    var source = axios.CancelToken.source();\n    getBlog();\n    return function () {\n      source.cancel();\n    };\n  }, []);\n  return React.createElement(ScrollView, {\n    style: {\n      backgroundColor: \"#FFF\",\n      height: HEIGHT * 1,\n      maxHeight: HEIGHT * 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    barStyle: \"dark-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), React.createElement(React.Fragment, null, React.createElement(HeaderTile, {\n    name: \"Blogs\",\n    navigation: navigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      paddingHorizontal: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(SearchBar, {\n    onChangeText: function onChangeText(t) {\n      return setSearchText(t);\n    },\n    placeholder: \"Search Blogs....\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  })), loaded ? React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      height: HEIGHT\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })) : React.createElement(React.Fragment, null, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      paddingLeft: 20,\n      minHeight: HEIGHT / 2.8,\n      marginBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, searchs().length === 0 ? React.createElement(View, {\n    style: {\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontFamily: \"Andika\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }, \"No results found for your search\")) : React.createElement(FlatList, {\n    data: searchs(),\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n      return React.createElement(BlogTile, {\n        navigation: navigation,\n        item: item,\n        navName: \"BlogInner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 23\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: {\n      width: WIDTH * 0.5,\n      paddingHorizontal: 25\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setCat(\"Recent\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontFamily: \"Avenir\",\n      fontSize: 16,\n      backgroundColor: \"#E28633\",\n      opacity: cat === \"Recent\" ? 1 : 0.5,\n      borderRadius: 10,\n      padding: 10,\n      marginRight: 10,\n      color: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, \"Recent\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setCat(\"Popular\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontFamily: \"Avenir\",\n      fontSize: 16,\n      backgroundColor: \"#E28633\",\n      opacity: cat === \"Popular\" ? 1 : 0.5,\n      borderRadius: Platform.OS === \"ios\" ? 40 : 10,\n      padding: 10,\n      marginRight: 10,\n      color: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, \"Popular\"))), React.createElement(ScrollView, {\n    style: {\n      width: WIDTH,\n      paddingBottom: 100\n    },\n    showsVerticalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, blog.map(function (item, index) {\n    if (cat === \"Popular\" ? index > 100 && index < 140 : index >= 0 && index < 20) return React.createElement(BlogList, {\n      key: index,\n      navigation: navigation,\n      item: item,\n      navName: \"BlogInner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 23\n      }\n    });\n  }))))));\n};\n\nexport default BlogHomeScreen;","map":{"version":3,"sources":["D:/Project/TourOn/Touron-Mobileapp-1/src/Screens/BlogScreens/BlogHomeScreen.js"],"names":["React","useEffect","useState","useContext","touron","FontAwesome","WIDTH","Dimensions","get","width","HEIGHT","height","axios","AuthContext","SearchBar","BlogTile","BlogList","HeaderTile","BlogHomeScreen","navigation","route","blogs","blog","setBlog","loaded","setLoaded","blogloaded","setBlogLoaded","searchText","setSearchText","cat","setCat","getBlog","blogResponse","data","alert","message","searchs","da","filter","c","countryName","trim","toUpperCase","includes","blogTitle","source","CancelToken","cancel","backgroundColor","maxHeight","paddingHorizontal","t","flex","alignItems","justifyContent","flexDirection","flexWrap","paddingLeft","minHeight","marginBottom","length","fontFamily","textAlign","item","index","toString","fontSize","opacity","borderRadius","padding","marginRight","color","Platform","OS","paddingBottom","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport {\r\n  View,\r\n  FlatList,\r\n  Text,\r\n  StatusBar,\r\n  Platform,\r\n  Dimensions,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  ActivityIndicator,\r\n} from \"react-native\";\r\nimport touron from \"../../api/touron\";\r\nimport { FontAwesome } from \"@expo/vector-icons\";\r\nconst WIDTH = Dimensions.get(\"window\").width;\r\nconst HEIGHT = Dimensions.get(\"window\").height;\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport SearchBar from \"./../../Reusable Components/SearchBar\";\r\nimport BlogTile from \"./BlogTile\";\r\nimport BlogList from \"./BlogList\";\r\nimport HeaderTile from \"./../../Reusable Components/HeaderTile\";\r\n\r\nconst BlogHomeScreen = ({ navigation, route }) => {\r\n  const { blogs } = useContext(AuthContext);\r\n  const [blog, setBlog] = useState([]);\r\n  const [loaded, setLoaded] = useState(true);\r\n  const [blogloaded, setBlogLoaded] = useState(true);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [cat, setCat] = useState(\"Recent\");\r\n  const getBlog = async () => {\r\n    try {\r\n      const blogResponse = await touron.get(`/blog/search?page=1&pageSize=200`);\r\n      setBlog(blogResponse.data);\r\n      setBlogLoaded(false);\r\n      setLoaded(false);\r\n    } catch (err) {\r\n      alert(err.message);\r\n    }\r\n  };\r\n\r\n  const searchs = () => {\r\n    if (searchText === \"\") return blogs;\r\n    const da = blogs.filter((c) => {\r\n      return (\r\n        c.countryName\r\n          ?.trim()\r\n          .toUpperCase()\r\n          .includes(searchText.trim().toUpperCase()) ||\r\n        c.blogTitle\r\n          .trim()\r\n          .toUpperCase()\r\n          .includes(searchText.trim().toUpperCase())\r\n      );\r\n    });\r\n\r\n    return da;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getBlog();\r\n    return () => {\r\n      source.cancel();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <ScrollView\r\n      style={{\r\n        backgroundColor: \"#FFF\",\r\n        // flex: 1,\r\n        height: HEIGHT * 1,\r\n        maxHeight: HEIGHT * 1,\r\n      }}\r\n    >\r\n      <StatusBar barStyle=\"dark-content\" />\r\n      <>\r\n        <HeaderTile name={\"Blogs\"} navigation={navigation} />\r\n\r\n        <View style={{ paddingHorizontal: 10 }}>\r\n          <SearchBar\r\n            onChangeText={(t) => setSearchText(t)}\r\n            placeholder={\"Search Blogs....\"}\r\n          />\r\n        </View>\r\n        {loaded ? (\r\n          <View\r\n            style={{\r\n              flex: 1,\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              height: HEIGHT,\r\n            }}\r\n          >\r\n            <ActivityIndicator size=\"large\" />\r\n          </View>\r\n        ) : (\r\n          <>\r\n            <View\r\n              style={{\r\n                flexDirection: \"row\",\r\n                flexWrap: \"wrap\",\r\n                paddingLeft: 20,\r\n                minHeight: HEIGHT / 2.8,\r\n                marginBottom: 10,\r\n              }}\r\n            >\r\n              {searchs().length === 0 ? (\r\n                <View\r\n                  style={{ justifyContent: \"center\", alignItems: \"center\" }}\r\n                >\r\n                  <Text style={{ fontFamily: \"Andika\", textAlign: \"center\" }}>\r\n                    No results found for your search\r\n                  </Text>\r\n                </View>\r\n              ) : (\r\n                <FlatList\r\n                  data={searchs()}\r\n                  horizontal\r\n                  showsHorizontalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    return (\r\n                      <BlogTile\r\n                        navigation={navigation}\r\n                        item={item}\r\n                        navName={\"BlogInner\"}\r\n                      />\r\n                    );\r\n                  }}\r\n                />\r\n              )}\r\n            </View>\r\n            <View\r\n              style={{\r\n                width: WIDTH * 0.5,\r\n                paddingHorizontal: 25,\r\n              }}\r\n            >\r\n              <View style={{ flexDirection: \"row\" }}>\r\n                <TouchableOpacity onPress={() => setCat(\"Recent\")}>\r\n                  <Text\r\n                    style={{\r\n                      fontFamily: \"Avenir\",\r\n                      fontSize: 16,\r\n                      backgroundColor: \"#E28633\",\r\n                      opacity: cat === \"Recent\" ? 1 : 0.5,\r\n                      borderRadius: 10,\r\n                      padding: 10,\r\n                      marginRight: 10,\r\n                      color: \"#fff\",\r\n                    }}\r\n                  >\r\n                    Recent\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={() => setCat(\"Popular\")}>\r\n                  <Text\r\n                    style={{\r\n                      fontFamily: \"Avenir\",\r\n                      fontSize: 16,\r\n                      backgroundColor: \"#E28633\",\r\n                      opacity: cat === \"Popular\" ? 1 : 0.5,\r\n                      borderRadius: Platform.OS === \"ios\" ? 40 : 10,\r\n                      padding: 10,\r\n                      marginRight: 10,\r\n                      color: \"#fff\",\r\n                    }}\r\n                  >\r\n                    Popular\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <ScrollView\r\n                style={{\r\n                  width: WIDTH,\r\n                  paddingBottom: 100,\r\n                }}\r\n                showsVerticalScrollIndicator={false}\r\n              >\r\n                {blog.map((item, index) => {\r\n                  if (\r\n                    cat === \"Popular\"\r\n                      ? index > 100 && index < 140\r\n                      : index >= 0 && index < 20\r\n                  )\r\n                    return (\r\n                      <BlogList\r\n                        key={index}\r\n                        navigation={navigation}\r\n                        item={item}\r\n                        navName={\"BlogInner\"}\r\n                      />\r\n                    );\r\n                })}\r\n              </ScrollView>\r\n            </View>\r\n          </>\r\n        )}\r\n      </>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nexport default BlogHomeScreen;\r\n"]},"metadata":{},"sourceType":"module"}