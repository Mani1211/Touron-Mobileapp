{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Project\\\\TourOn\\\\Touron-Mobileapp-1\\\\src\\\\Screens\\\\AuthScreens\\\\SignInScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext, useEffect, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport * as Notifications from \"expo-notifications\";\nimport * as Permissions from \"expo-permissions\";\nimport Constants from \"expo-constants\";\nimport { database, auth } from \"firebase\";\nimport * as Animatable from \"react-native-animatable\";\nimport { Spinner } from \"native-base\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport { AuthContext } from \"../../context/AuthContext\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nNotifications.setNotificationHandler({\n  handleNotification: function handleNotification() {\n    return _regeneratorRuntime.async(function handleNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              shouldShowAlert: true,\n              shouldPlaySound: true,\n              shouldSetBadge: true\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n});\n\nfunction SignInScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loaded = _useState6[0],\n      setLoaded = _useState6[1];\n\n  var _useContext = useContext(AuthContext),\n      setIsLoggedIn = _useContext.setIsLoggedIn,\n      setUser = _useContext.setUser,\n      setUserInfo = _useContext.setUserInfo;\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      step = _useState8[0],\n      setStep = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      err = _useState10[0],\n      setErr = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      req = _useState12[0],\n      setReq = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      expoToken = _useState14[0],\n      setExpoToken = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      notification = _useState16[0],\n      setNotification = _useState16[1];\n\n  var notificationListener = useRef();\n  var responseListener = useRef();\n\n  var _useState17 = useState(true),\n      _useState18 = _slicedToArray(_useState17, 2),\n      passVisible = _useState18[0],\n      setPassVisible = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      editable = _useState20[0],\n      setEditable = _useState20[1];\n\n  useEffect(function () {\n    setTimeout(function () {\n      setEditable(true);\n    }, 100);\n  }, []);\n\n  var storeToken = function storeToken(value) {\n    var token, pToken, userToken, _userToken;\n\n    return _regeneratorRuntime.async(function storeToken$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            token = AsyncStorage.getItem(\"userToken\");\n            pToken = JSON.stringify(token);\n\n            if (!pToken) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"userToken\"));\n\n          case 6:\n            userToken = JSON.stringify(value);\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userToken\", userToken));\n\n          case 9:\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _userToken = JSON.stringify(value);\n            _context2.next = 14;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userToken\", _userToken));\n\n          case 14:\n            _context2.next = 19;\n            break;\n\n          case 16:\n            _context2.prev = 16;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 19:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 16]], Promise);\n  };\n\n  var removeToken = function removeToken() {\n    return _regeneratorRuntime.async(function removeToken$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"userToken\"));\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var forgetPassword = function forgetPassword() {\n    setLoaded(true);\n    auth().sendPasswordResetEmail(email).then(function (res) {\n      setLoaded(false);\n      setReq(true);\n      setTimeout(function () {\n        setStep(0);\n        setReq(false);\n      }, 3000);\n    }).catch(function (err) {\n      return console.log(err, \"err\");\n    });\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      auth().onAuthStateChanged(function (user) {\n        setUser(user);\n      });\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n\n  var getUserData = function getUserData(uid) {\n    database().ref(\"userGeneralInfo/\" + uid).on(\"value\", function (data) {\n      if (data === null) {\n        setUserInfo({});\n      } else {\n        var val = data.val();\n        setUserInfo(val);\n      }\n    });\n  };\n\n  var updateUserToken = function updateUserToken(uid) {\n    if (Platform.OS === \"ios\") {\n      return;\n    }\n\n    if (user !== null && expoToken !== \"\") {\n      database().ref(\"userGeneralInfo/\" + uid).child(\"pushNotificationToken\").set(expoToken);\n    }\n  };\n\n  var signIn = function signIn() {\n    setLoaded(true);\n    auth().signInWithEmailAndPassword(email, password).then(function (user) {\n      setUser(user.user);\n      setLoaded(false);\n      storeToken(user.user);\n      updateUserToken(user.user.uid);\n      getUserData(user.user.uid);\n      setEmail(\"\");\n      setPassword(\"\");\n      setIsLoggedIn(true);\n      navigation.navigate(\"Main\");\n    }).catch(function (err) {\n      setLoaded(false);\n      setUser(null);\n      removeToken();\n      setErr(err.message);\n    });\n  };\n\n  var registerForPushNotificationsAsync = function registerForPushNotificationsAsync() {\n    var token, _await$Permissions$ge, existingStatus, finalStatus, _await$Permissions$as, status;\n\n    return _regeneratorRuntime.async(function registerForPushNotificationsAsync$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!Constants.isDevice) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.NOTIFICATIONS));\n\n          case 3:\n            _await$Permissions$ge = _context4.sent;\n            existingStatus = _await$Permissions$ge.status;\n            finalStatus = existingStatus;\n\n            if (!(existingStatus !== \"granted\" || Platform.OS === \"android\")) {\n              _context4.next = 12;\n              break;\n            }\n\n            _context4.next = 9;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.NOTIFICATIONS));\n\n          case 9:\n            _await$Permissions$as = _context4.sent;\n            status = _await$Permissions$as.status;\n            finalStatus = status;\n\n          case 12:\n            if (!(finalStatus !== \"granted\")) {\n              _context4.next = 15;\n              break;\n            }\n\n            alert(\"Failed to get push token for push notification!\");\n            return _context4.abrupt(\"return\");\n\n          case 15:\n            _context4.next = 17;\n            return _regeneratorRuntime.awrap(Notifications.getExpoPushTokenAsync());\n\n          case 17:\n            token = _context4.sent.data;\n            _context4.next = 21;\n            break;\n\n          case 20:\n            alert(\"Must use physical device for Push Notifications\");\n\n          case 21:\n            if (Platform.OS === \"android\") {\n              Notifications.setNotificationChannelAsync(\"default\", {\n                name: \"default\",\n                importance: Notifications.AndroidImportance.MAX,\n                vibrationPattern: [0, 250, 250, 250],\n                lightColor: \"#FF231F7C\"\n              });\n            }\n\n            return _context4.abrupt(\"return\", token);\n\n          case 23:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      registerForPushNotificationsAsync().then(function (token) {\n        return setExpoToken(token);\n      });\n      notificationListener.current = Notifications.addNotificationReceivedListener(function (notification) {\n        setNotification(notification);\n      });\n      responseListener.current = Notifications.addNotificationResponseReceivedListener(function (response) {});\n      return function () {\n        Notifications.removeNotificationSubscription(notificationListener);\n        Notifications.removeNotificationSubscription(responseListener);\n      };\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n\n  var renderForm = function renderForm() {\n    switch (step) {\n      case 0:\n        return React.createElement(Animatable.View, {\n          style: {\n            flex: 1,\n            alignItems: \"center\",\n            justifyContent: \"flex-end\"\n          },\n          animation: \"fadeInUp\",\n          duration: 1500,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: {\n            position: \"absolute\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }\n        }, React.createElement(View, {\n          style: {\n            marginBottom: HEIGHT / 10,\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }\n        }), React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: [styles.inputContainer, {\n            marginBottom: 30\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          placeholder: \"Email\",\n          keyboardAppearance: \"dark\",\n          onChangeText: function onChangeText(value) {\n            return setEmail(value);\n          },\n          value: email,\n          keyboardType: \"email-address\",\n          editable: editable,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 19\n          }\n        })), React.createElement(View, {\n          style: [styles.inputContainer, {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            paddingHorizontal: 20,\n            alignItems: \"center\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: {\n            width: WIDTH / 2,\n            color: \"#fff\",\n            fontFamily: \"Andika\"\n          },\n          placeholder: \"Password\",\n          onChangeText: function onChangeText(value) {\n            return setPassword(value);\n          },\n          secureTextEntry: passVisible ? true : false,\n          keyboardType: \"default\",\n          value: password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 19\n          }\n        }), React.createElement(Entypo, {\n          onPress: function onPress() {\n            return setPassVisible(!passVisible);\n          },\n          name: !passVisible ? \"eye\" : \"eye-with-line\",\n          size: 24,\n          color: \"#fff\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 19\n          }\n        })), err !== \"\" ? React.createElement(View, {\n          style: [styles.inputContainer, {\n            backgroundColor: \"transparent\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: [styles.input, {\n            color: \"red\",\n            fontSize: 16\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 21\n          }\n        }, err)) : null), React.createElement(View, {\n          style: styles.buttonContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }\n        }, loaded ? React.createElement(View, {\n          style: {\n            paddingVertical: -10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 19\n          }\n        }, React.createElement(Spinner, {\n          color: \"black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 21\n          }\n        })) : React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return signIn();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: styles.signinButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 21\n          }\n        }, \"Sign In\"))), React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return setStep(1);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontWeight: \"900\",\n            paddingTop: 20,\n            color: \"white\",\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }\n        }, \"Forgot Password ?\")), React.createElement(View, {\n          style: {\n            width: WIDTH * 0.9\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"SignUpScreen\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontWeight: \"900\",\n            color: \"white\",\n            textAlign: \"center\",\n            marginVertical: Platform.OS === \"ios\" ? 30 : 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 19\n          }\n        }, \"Don't have a account? Sign Up\")))), React.createElement(ImageBackground, {\n          style: {\n            width: WIDTH,\n            height: HEIGHT,\n            zIndex: -2\n          },\n          source: {\n            uri: \"https://images.pexels.com/photos/2412606/pexels-photo-2412606.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }\n        }), React.createElement(View, {\n          style: styles.skipButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Main\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 18,\n            color: \"#333\",\n            fontFamily: \"Andika\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }\n        }, \"Home\"))));\n\n      case 1:\n        return React.createElement(Animatable.View, {\n          style: {\n            flex: 1,\n            alignItems: \"center\",\n            justifyContent: \"flex-end\"\n          },\n          animation: \"fadeInUp\",\n          duration: 1500,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: {\n            position: \"absolute\",\n            paddingBottom: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }\n        }, React.createElement(View, {\n          style: {\n            marginBottom: HEIGHT / 10,\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }\n        }), React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: [styles.inputContainer, {\n            marginBottom: 30\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          placeholder: \"Enter the Email\",\n          keyboardAppearance: \"dark\",\n          onChangeText: function onChangeText(value) {\n            return setEmail(value);\n          },\n          keyboardType: \"email-address\",\n          editable: editable,\n          value: email,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 19\n          }\n        })), err !== \"\" ? React.createElement(View, {\n          style: [styles.inputContainer, {\n            backgroundColor: \"transparent\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: [styles.input, {\n            color: \"red\",\n            fontSize: 16\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 21\n          }\n        }, err)) : null), React.createElement(View, {\n          style: styles.forgetbuttonContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }\n        }, loaded ? React.createElement(View, {\n          style: {\n            paddingVertical: -10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 19\n          }\n        }, React.createElement(Spinner, {\n          color: \"black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 21\n          }\n        })) : React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return forgetPassword();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 19\n          }\n        }, req ? React.createElement(Text, {\n          style: styles.forgetButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 23\n          }\n        }, \"Password reset mail sent to your email .\") : React.createElement(Text, {\n          style: styles.forgetButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 23\n          }\n        }, \"Change password\"))), React.createElement(View, {\n          style: {\n            width: WIDTH * 0.9\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return setStep(0);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontWeight: \"900\",\n            color: \"white\",\n            textAlign: \"center\",\n            marginVertical: Platform.OS === \"ios\" ? 30 : 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 19\n          }\n        }, \"Already have an account? Try Sign In\")))), React.createElement(ImageBackground, {\n          style: {\n            width: WIDTH,\n            height: HEIGHT,\n            zIndex: -2\n          },\n          source: {\n            uri: \"https://images.pexels.com/photos/2412606/pexels-photo-2412606.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }\n        }));\n    }\n  };\n\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 5\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }\n  }, React.createElement(React.Fragment, null, renderForm())));\n}\n\nexport default SignInScreen;\nvar styles = StyleSheet.create({\n  input: {\n    marginHorizontal: 20,\n    width: WIDTH * 0.8,\n    height: 60,\n    color: \"#FFF\",\n    fontFamily: \"Andika\"\n  },\n  inputContainer: {\n    height: 60,\n    borderRadius: 10,\n    backgroundColor: \"#0009\"\n  },\n  skipButton: {\n    position: \"absolute\",\n    right: 20,\n    top: 0,\n    marginTop: HEIGHT / 20\n  },\n  signinButton: {\n    textAlign: \"center\",\n    paddingVertical: 20,\n    color: \"black\",\n    fontFamily: \"Andika\",\n    fontSize: 16\n  },\n  buttonContainer: {\n    marginTop: HEIGHT / 25,\n    backgroundColor: \"#FFF\",\n    borderRadius: 10,\n    width: WIDTH * 0.9,\n    alignContent: \"center\",\n    position: \"relative\"\n  },\n  forgetButton: {\n    textAlign: \"center\",\n    paddingVertical: 20,\n    color: \"black\",\n    fontFamily: \"Andika\",\n    fontSize: 16\n  },\n  forgetbuttonContainer: {\n    marginBottom: 30,\n    backgroundColor: \"#FFF\",\n    borderRadius: 10,\n    width: WIDTH * 0.9,\n    alignContent: \"center\",\n    position: \"relative\"\n  }\n});","map":{"version":3,"sources":["D:/Project/TourOn/Touron-Mobileapp-1/src/Screens/AuthScreens/SignInScreen.js"],"names":["React","useState","useContext","useEffect","useRef","AsyncStorage","Notifications","Permissions","Constants","database","auth","Animatable","Spinner","Entypo","AuthContext","WIDTH","Dimensions","get","width","HEIGHT","height","setNotificationHandler","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","SignInScreen","navigation","password","setPassword","email","setEmail","loaded","setLoaded","setIsLoggedIn","setUser","setUserInfo","step","setStep","err","setErr","req","setReq","expoToken","setExpoToken","notification","setNotification","notificationListener","responseListener","passVisible","setPassVisible","editable","setEditable","setTimeout","storeToken","value","token","getItem","pToken","JSON","stringify","removeItem","userToken","setItem","console","log","removeToken","forgetPassword","sendPasswordResetEmail","then","res","catch","mounted","onAuthStateChanged","user","getUserData","uid","ref","on","data","val","updateUserToken","Platform","OS","child","set","signIn","signInWithEmailAndPassword","navigate","message","registerForPushNotificationsAsync","isDevice","getAsync","NOTIFICATIONS","existingStatus","status","finalStatus","askAsync","alert","getExpoPushTokenAsync","setNotificationChannelAsync","name","importance","AndroidImportance","MAX","vibrationPattern","lightColor","current","addNotificationReceivedListener","addNotificationResponseReceivedListener","response","removeNotificationSubscription","renderForm","flex","alignItems","justifyContent","position","marginBottom","styles","inputContainer","input","flexDirection","paddingHorizontal","color","fontFamily","backgroundColor","fontSize","buttonContainer","paddingVertical","signinButton","fontWeight","paddingTop","textAlign","marginVertical","zIndex","uri","skipButton","paddingBottom","forgetbuttonContainer","forgetButton","Keyboard","dismiss","StyleSheet","create","marginHorizontal","borderRadius","right","top","marginTop","alignContent"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Dimensions,\r\n  Platform,\r\n  ImageBackground,\r\n  TouchableWithoutFeedback,\r\n  Keyboard,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  KeyboardAvoidingView,\r\n} from \"react-native\";\r\n\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport * as Notifications from \"expo-notifications\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport Constants from \"expo-constants\";\r\nimport { database, auth } from \"firebase\";\r\nimport * as Animatable from \"react-native-animatable\";\r\nimport { Spinner } from \"native-base\";\r\nimport { Entypo } from \"@expo/vector-icons\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nconst WIDTH = Dimensions.get(\"window\").width;\r\nconst HEIGHT = Dimensions.get(\"window\").height;\r\nNotifications.setNotificationHandler({\r\n  handleNotification: async () => ({\r\n    shouldShowAlert: true,\r\n    shouldPlaySound: true,\r\n    shouldSetBadge: true,\r\n  }),\r\n});\r\nfunction SignInScreen({ navigation }) {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [loaded, setLoaded] = useState(false);\r\n  const { setIsLoggedIn, setUser, setUserInfo } = useContext(AuthContext);\r\n  const [step, setStep] = useState(0);\r\n  const [err, setErr] = useState(\"\");\r\n  const [req, setReq] = useState(false);\r\n  const [expoToken, setExpoToken] = useState(\"\");\r\n  const [notification, setNotification] = useState(false);\r\n  const notificationListener = useRef();\r\n  const responseListener = useRef();\r\n  const [passVisible, setPassVisible] = useState(true);\r\n  const [editable, setEditable] = useState(false);\r\n\r\n  // console.log(`expoToken`, expoToken);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setEditable(true);\r\n    }, 100);\r\n  }, []);\r\n\r\n  const storeToken = async (value) => {\r\n    try {\r\n      const token = AsyncStorage.getItem(\"userToken\");\r\n      const pToken = JSON.stringify(token);\r\n      // console.log(`pToken`, pToken);\r\n\r\n      if (pToken) {\r\n        await AsyncStorage.removeItem(\"userToken\");\r\n        const userToken = JSON.stringify(value);\r\n        // console.log(`userToken`, userToken);\r\n        await AsyncStorage.setItem(\"userToken\", userToken);\r\n      } else {\r\n        const userToken = JSON.stringify(value);\r\n        // console.log(`userToken`, userToken);\r\n\r\n        await AsyncStorage.setItem(\"userToken\", userToken);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const removeToken = async () => {\r\n    try {\r\n      await AsyncStorage.removeItem(\"userToken\");\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const forgetPassword = () => {\r\n    setLoaded(true);\r\n    auth()\r\n      .sendPasswordResetEmail(email)\r\n      .then((res) => {\r\n        setLoaded(false);\r\n        setReq(true);\r\n        setTimeout(() => {\r\n          setStep(0);\r\n          setReq(false);\r\n        }, 3000);\r\n      })\r\n      .catch((err) => console.log(err, \"err\"));\r\n  };\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      auth().onAuthStateChanged((user) => {\r\n        setUser(user);\r\n      });\r\n    }\r\n    return () => (mounted = false);\r\n  }, []);\r\n\r\n  const getUserData = (uid) => {\r\n    // console.log(`user.uid`, uid);\r\n    database()\r\n      .ref(`userGeneralInfo/${uid}`)\r\n      .on(\"value\", (data) => {\r\n        // console.log(`d`, data);\r\n        if (data === null) {\r\n          setUserInfo({});\r\n        } else {\r\n          let val = data.val();\r\n          // console.log(`val`, val);\r\n          setUserInfo(val);\r\n        }\r\n      });\r\n  };\r\n  const updateUserToken = (uid) => {\r\n    if (Platform.OS === \"ios\") {\r\n      return;\r\n    }\r\n    // console.log(`expoTonvbken`, expoToken, uid);\r\n    if (user !== null && expoToken !== \"\") {\r\n      database()\r\n        .ref(`userGeneralInfo/${uid}`)\r\n        .child(\"pushNotificationToken\")\r\n        .set(expoToken);\r\n    }\r\n  };\r\n  const signIn = () => {\r\n    setLoaded(true);\r\n\r\n    auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((user) => {\r\n        setUser(user.user);\r\n        setLoaded(false);\r\n        storeToken(user.user);\r\n        updateUserToken(user.user.uid);\r\n        getUserData(user.user.uid);\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        setIsLoggedIn(true);\r\n        navigation.navigate(\"Main\");\r\n      })\r\n      .catch((err) => {\r\n        setLoaded(false);\r\n        setUser(null);\r\n        removeToken();\r\n        // console.log(err.message, \"pcco\");\r\n        setErr(err.message);\r\n      });\r\n  };\r\n\r\n  const registerForPushNotificationsAsync = async () => {\r\n    let token;\r\n    if (Constants.isDevice) {\r\n      const { status: existingStatus } = await Permissions.getAsync(\r\n        Permissions.NOTIFICATIONS\r\n      );\r\n      let finalStatus = existingStatus;\r\n      // console.log(finalStatus, existingStatus, \"stst\");\r\n\r\n      if (existingStatus !== \"granted\" || Platform.OS === \"android\") {\r\n        const { status } = await Permissions.askAsync(\r\n          Permissions.NOTIFICATIONS\r\n        );\r\n        finalStatus = status;\r\n      }\r\n      if (finalStatus !== \"granted\") {\r\n        alert(\"Failed to get push token for push notification!\");\r\n        return;\r\n      }\r\n      token = (await Notifications.getExpoPushTokenAsync()).data;\r\n    } else {\r\n      alert(\"Must use physical device for Push Notifications\");\r\n    }\r\n\r\n    if (Platform.OS === \"android\") {\r\n      Notifications.setNotificationChannelAsync(\"default\", {\r\n        name: \"default\",\r\n        importance: Notifications.AndroidImportance.MAX,\r\n        vibrationPattern: [0, 250, 250, 250],\r\n        lightColor: \"#FF231F7C\",\r\n      });\r\n    }\r\n\r\n    return token;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      registerForPushNotificationsAsync().then((token) => setExpoToken(token));\r\n      // This listener is fired whenever a notification is received while the app is foregrounded\r\n      notificationListener.current =\r\n        Notifications.addNotificationReceivedListener((notification) => {\r\n          setNotification(notification);\r\n        });\r\n\r\n      // This listener is fired whenever a user taps on or interacts with a notification (works when app is foregrounded, backgrounded, or killed)\r\n      responseListener.current =\r\n        Notifications.addNotificationResponseReceivedListener((response) => {\r\n          // console.log(response);\r\n        });\r\n\r\n      return () => {\r\n        Notifications.removeNotificationSubscription(notificationListener);\r\n        Notifications.removeNotificationSubscription(responseListener);\r\n      };\r\n    }\r\n\r\n    return () => (mounted = false);\r\n  }, []);\r\n\r\n  const renderForm = () => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Animatable.View\r\n            style={{\r\n              flex: 1,\r\n              alignItems: \"center\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n            animation=\"fadeInUp\"\r\n            duration={1500}\r\n          >\r\n            <View style={{ position: \"absolute\" }}>\r\n              <View style={{ marginBottom: HEIGHT / 10, alignItems: \"center\" }}>\r\n                {/* <Text\r\n                  style={{\r\n                    fontSize: 40,\r\n                    color: \"black\",\r\n                    fontFamily:\r\n                      Platform.OS === \"ios\" ? \"AvenirNext-Bold\" : \"Avenir\",\r\n                  }}\r\n                >\r\n                  Sign In\r\n                </Text> */}\r\n              </View>\r\n              <View>\r\n                <View style={[styles.inputContainer, { marginBottom: 30 }]}>\r\n                  <TextInput\r\n                    style={styles.input}\r\n                    placeholder=\"Email\"\r\n                    keyboardAppearance=\"dark\"\r\n                    onChangeText={(value) => setEmail(value)}\r\n                    value={email}\r\n                    keyboardType=\"email-address\"\r\n                    editable={editable}\r\n                  />\r\n                </View>\r\n\r\n                <View\r\n                  style={[\r\n                    styles.inputContainer,\r\n                    {\r\n                      flexDirection: \"row\",\r\n                      justifyContent: \"space-between\",\r\n                      paddingHorizontal: 20,\r\n                      alignItems: \"center\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <TextInput\r\n                    style={{\r\n                      width: WIDTH / 2,\r\n                      color: \"#fff\",\r\n                      fontFamily: \"Andika\",\r\n                    }}\r\n                    placeholder=\"Password\"\r\n                    onChangeText={(value) => setPassword(value)}\r\n                    secureTextEntry={passVisible ? true : false}\r\n                    keyboardType=\"default\"\r\n                    value={password}\r\n                  />\r\n                  <Entypo\r\n                    onPress={() => setPassVisible(!passVisible)}\r\n                    name={!passVisible ? \"eye\" : \"eye-with-line\"}\r\n                    size={24}\r\n                    color=\"#fff\"\r\n                  />\r\n                </View>\r\n                {err !== \"\" ? (\r\n                  <View\r\n                    style={[\r\n                      styles.inputContainer,\r\n                      { backgroundColor: \"transparent\" },\r\n                    ]}\r\n                  >\r\n                    <Text\r\n                      style={[styles.input, { color: \"red\", fontSize: 16 }]}\r\n                    >\r\n                      {err}\r\n                    </Text>\r\n                  </View>\r\n                ) : null}\r\n              </View>\r\n\r\n              <View style={styles.buttonContainer}>\r\n                {loaded ? (\r\n                  <View style={{ paddingVertical: -10 }}>\r\n                    <Spinner color=\"black\" />\r\n                  </View>\r\n                ) : (\r\n                  <TouchableOpacity onPress={() => signIn()}>\r\n                    <Text style={styles.signinButton}>Sign In</Text>\r\n                  </TouchableOpacity>\r\n                )}\r\n              </View>\r\n              <TouchableOpacity onPress={() => setStep(1)}>\r\n                <Text\r\n                  style={{\r\n                    fontWeight: \"900\",\r\n                    paddingTop: 20,\r\n                    color: \"white\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Forgot Password ?\r\n                </Text>\r\n              </TouchableOpacity>\r\n\r\n              <View style={{ width: WIDTH * 0.9 }}>\r\n                <TouchableOpacity\r\n                  onPress={() => navigation.navigate(\"SignUpScreen\")}\r\n                >\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: \"900\",\r\n                      color: \"white\",\r\n                      textAlign: \"center\",\r\n                      marginVertical: Platform.OS === \"ios\" ? 30 : 20,\r\n                    }}\r\n                  >\r\n                    Don't have a account? Sign Up\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <ImageBackground\r\n              style={{ width: WIDTH, height: HEIGHT, zIndex: -2 }}\r\n              source={{\r\n                uri: \"https://images.pexels.com/photos/2412606/pexels-photo-2412606.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\r\n              }}\r\n            />\r\n            <View style={styles.skipButton}>\r\n              <TouchableOpacity onPress={() => navigation.navigate(\"Main\")}>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 18,\r\n                    color: \"#333\",\r\n                    fontFamily: \"Andika\",\r\n                  }}\r\n                >\r\n                  Home\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </Animatable.View>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <Animatable.View\r\n            style={{\r\n              flex: 1,\r\n              alignItems: \"center\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n            animation=\"fadeInUp\"\r\n            duration={1500}\r\n          >\r\n            <View style={{ position: \"absolute\", paddingBottom: 10 }}>\r\n              <View style={{ marginBottom: HEIGHT / 10, alignItems: \"center\" }}>\r\n                {/* <Text\r\n                  style={{ fontSize: 40, fontFamily: \"Andika\", color: \"#fff\" }}\r\n                >\r\n                  Enter the Email\r\n                </Text> */}\r\n              </View>\r\n              <View>\r\n                <View style={[styles.inputContainer, { marginBottom: 30 }]}>\r\n                  <TextInput\r\n                    style={styles.input}\r\n                    placeholder=\"Enter the Email\"\r\n                    keyboardAppearance=\"dark\"\r\n                    onChangeText={(value) => setEmail(value)}\r\n                    keyboardType=\"email-address\"\r\n                    editable={editable}\r\n                    value={email}\r\n                  />\r\n                </View>\r\n\r\n                {err !== \"\" ? (\r\n                  <View\r\n                    style={[\r\n                      styles.inputContainer,\r\n                      { backgroundColor: \"transparent\" },\r\n                    ]}\r\n                  >\r\n                    <Text\r\n                      style={[styles.input, { color: \"red\", fontSize: 16 }]}\r\n                    >\r\n                      {err}\r\n                    </Text>\r\n                  </View>\r\n                ) : null}\r\n              </View>\r\n\r\n              <View style={styles.forgetbuttonContainer}>\r\n                {loaded ? (\r\n                  <View style={{ paddingVertical: -10 }}>\r\n                    <Spinner color=\"black\" />\r\n                  </View>\r\n                ) : (\r\n                  <TouchableOpacity onPress={() => forgetPassword()}>\r\n                    {req ? (\r\n                      <Text style={styles.forgetButton}>\r\n                        Password reset mail sent to your email .\r\n                      </Text>\r\n                    ) : (\r\n                      <Text style={styles.forgetButton}>Change password</Text>\r\n                    )}\r\n                  </TouchableOpacity>\r\n                )}\r\n              </View>\r\n              <View style={{ width: WIDTH * 0.9 }}>\r\n                <TouchableOpacity onPress={() => setStep(0)}>\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: \"900\",\r\n                      color: \"white\",\r\n                      textAlign: \"center\",\r\n                      marginVertical: Platform.OS === \"ios\" ? 30 : 20,\r\n                    }}\r\n                  >\r\n                    Already have an account? Try Sign In\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n\r\n            <ImageBackground\r\n              style={{ width: WIDTH, height: HEIGHT, zIndex: -2 }}\r\n              source={{\r\n                uri: \"https://images.pexels.com/photos/2412606/pexels-photo-2412606.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\r\n              }}\r\n            />\r\n          </Animatable.View>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\r\n      <KeyboardAvoidingView\r\n        // behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\r\n        style={{ flex: 1 }}\r\n      >\r\n        <>{renderForm()}</>\r\n      </KeyboardAvoidingView>\r\n    </TouchableWithoutFeedback>\r\n  );\r\n}\r\n\r\nexport default SignInScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  input: {\r\n    marginHorizontal: 20,\r\n    width: WIDTH * 0.8,\r\n    height: 60,\r\n    color: \"#FFF\",\r\n    fontFamily: \"Andika\",\r\n  },\r\n  inputContainer: {\r\n    height: 60,\r\n    borderRadius: 10,\r\n    backgroundColor: \"#0009\",\r\n  },\r\n  skipButton: {\r\n    position: \"absolute\",\r\n    right: 20,\r\n    top: 0,\r\n    marginTop: HEIGHT / 20,\r\n  },\r\n  signinButton: {\r\n    textAlign: \"center\",\r\n    paddingVertical: 20,\r\n    color: \"black\",\r\n    fontFamily: \"Andika\",\r\n    fontSize: 16,\r\n  },\r\n  buttonContainer: {\r\n    marginTop: HEIGHT / 25,\r\n    backgroundColor: \"#FFF\",\r\n    borderRadius: 10,\r\n    width: WIDTH * 0.9,\r\n    alignContent: \"center\",\r\n    position: \"relative\",\r\n  },\r\n  forgetButton: {\r\n    textAlign: \"center\",\r\n    paddingVertical: 20,\r\n    color: \"black\",\r\n    fontFamily: \"Andika\",\r\n    fontSize: 16,\r\n  },\r\n  forgetbuttonContainer: {\r\n    marginBottom: 30,\r\n    backgroundColor: \"#FFF\",\r\n    borderRadius: 10,\r\n    width: WIDTH * 0.9,\r\n    alignContent: \"center\",\r\n    position: \"relative\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}