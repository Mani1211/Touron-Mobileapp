{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Project\\\\TourOn\\\\Touron-Mobileapp-1\\\\src\\\\Screens\\\\CategoryScreens\\\\Honeymoon.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport DatePicker from \"react-native-datepicker\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport Tourname from \"./Reusable components/Tourname\";\nimport Checkout from \"./Reusable components/Checkout\";\nimport Destination from \"./Reusable components/Destination\";\nimport Tourtype from \"./Reusable components/Tourtype\";\nimport Travelmode from \"./Reusable components/Travelmode\";\nimport { database } from \"firebase\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport SubmittedQuery from \"./Reusable components/SubmittedQuery\";\nimport moment from \"moment\";\nimport { sendEmail, sendPushNotification, getExpoToken } from \"./utils/PushNotification\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nimport { useIsFocused } from \"@react-navigation/native\";\n\nvar Honeymoon = function Honeymoon(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      fromDate = _useState2[0],\n      setFromDate = _useState2[1];\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      tourType = _React$useState2[0],\n      setTourType = _React$useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toDate = _useState4[0],\n      setToDate = _useState4[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      travelMode = _React$useState4[0],\n      setTravelMode = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      preferanece = _React$useState6[0],\n      _setPreferanece = _React$useState6[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      destination = _useState6[0],\n      _setDestination = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      startPoint = _useState8[0],\n      _setStartPoint = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      name = _useState10[0],\n      _setName = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      budget = _useState12[0],\n      _setBudget = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      number = _useState14[0],\n      _setNumber = _useState14[1];\n\n  var _useState15 = useState(1),\n      _useState16 = _slicedToArray(_useState15, 2),\n      step = _useState16[0],\n      setStep = _useState16[1];\n\n  var _useContext = useContext(AuthContext),\n      isLoggedIn = _useContext.isLoggedIn,\n      user = _useContext.user,\n      userInfo = _useContext.userInfo;\n\n  var isFocused = useIsFocused();\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      if (route.params !== undefined) {\n        var countryName = route.params.countryName;\n        var type = route.params.type;\n        {\n          type == \"International\" ? setTourType(type) : setTourType(\"Domestic\");\n        }\n        setStep(3);\n\n        _setDestination(countryName);\n      }\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      if (!isLoggedIn) {\n        navigation.jumpTo(\"SignInScreen\");\n      }\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, [isFocused]);\n\n  var handleFromDate = function handleFromDate(date) {\n    setFromDate(date);\n  };\n\n  var handleToDate = function handleToDate(date) {\n    setToDate(date);\n  };\n\n  var _nextStep = function nextStep() {\n    setStep(step + 1);\n  };\n\n  var _prevStep = function prevStep() {\n    setStep(step - 1);\n  };\n\n  var description = \"Are you the newly-wed, blissed-out couple looking for a perfect romantic getaway? Then look no further! tour On will help you plan the magical Honeymoon of your dreams. \\n\\nThis tour is exclusively for honeymooners and we provide you with suggestions of the most beautiful places with moonlight walks on magnificent riverbanks, candlelit dinners within the beauty of nature and the perfect tour spots for you and your better half. We provide you all the suggestions but the decision of what to choose and where to go is completely up to you. You dream, we make it happen!\\n\";\n\n  var renderForm = function renderForm(step) {\n    switch (step) {\n      case 1:\n        return React.createElement(Tourname, {\n          tourName: \"Honeymoon Tour\",\n          navigation: navigation,\n          step: function step() {\n            return _nextStep();\n          },\n          imgSrc: \"https://image.freepik.com/free-vector/newlywed-couple-is-driving-car-their-honeymoon_3446-291.jpg\",\n          description: description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }\n        });\n\n      case 2:\n        return React.createElement(Tourtype, {\n          imgSrc1: require(\"../../../assets/planned-tour/india.png\"),\n          imgScr2: require(\"../../../assets/planned-tour/International.png\"),\n          tourName: \"Honeymoon Tour\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          tourType: tourType,\n          setDomestic: function setDomestic() {\n            return setTourType(\"Domestic\");\n          },\n          setInternational: function setInternational() {\n            return setTourType(\"International\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }\n        });\n\n      case 3:\n        return React.createElement(Travelmode, {\n          tourName: \"Honeymoon Tour\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc1: \"https://image.freepik.com/free-vector/train-ride-railroad_1308-11154.jpg\",\n          imgScr2: \"https://image.freepik.com/free-vector/airplane-sky_1308-31202.jpg\",\n          name1: \"Train\",\n          name2: \"Flight\",\n          travelMode: travelMode,\n          setTrain: function setTrain() {\n            return setTravelMode(\"Train\");\n          },\n          setFlight: function setFlight() {\n            return setTravelMode(\"Flight\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }\n        });\n\n      case 4:\n        return React.createElement(View, {\n          style: {\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: {\n            width: WIDTH * 0.9,\n            alignItems: \"flex-end\",\n            justifyContent: \"center\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            marginHorizontal: 30,\n            position: \"relative\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _prevStep();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }\n        }, React.createElement(AntDesign, {\n          name: \"arrowleft\",\n          size: 28,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 19\n          }\n        }))), React.createElement(Text, {\n          style: {\n            fontSize: 20,\n            fontFamily: \"NewYorkl\",\n            marginTop: Platform.OS == \"android\" ? HEIGHT / 14 : 40\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }\n        }, \"Honeymoon Trip\"), React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _nextStep();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }\n        }, fromDate !== \"\" && toDate !== \"\" ? React.createElement(AntDesign, {\n          name: \"arrowright\",\n          size: 28,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }\n        }) : null))), React.createElement(View, {\n          style: styles.imageContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: {\n            height: HEIGHT / 3,\n            width: WIDTH * 0.8\n          },\n          source: {\n            uri: \"https://image.freepik.com/free-vector/build-your-program-appointment-booking_23-2148552954.jpg\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }\n        })), React.createElement(View, {\n          style: {\n            marginVertical: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 16,\n            textAlign: \"center\",\n            fontFamily: \"NewYorkl\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }\n        }, \"When do you want to embark on your journey?\"), React.createElement(View, {\n          style: styles.dateContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: {\n            width: WIDTH / 3.8\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 18,\n            fontFamily: \"Andika\",\n            paddingLeft: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 19\n          }\n        }, \"Onward\")), React.createElement(DatePicker, {\n          onOpenModal: {\n            useNativeDriver: true\n          },\n          style: {\n            width: 200\n          },\n          date: fromDate,\n          mode: \"date\",\n          placeholder: \"select date\",\n          format: \"YYYY-MM-DD\",\n          minDate: moment().add(14, \"days\").format(\"YYYY-MM-DD\"),\n          confirmBtnText: \"Confirm\",\n          cancelBtnText: \"Cancel\",\n          onDateChange: function onDateChange(date) {\n            handleFromDate(date);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }\n        })), React.createElement(View, {\n          style: styles.dateContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: {\n            width: WIDTH / 3.8\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 20,\n            fontFamily: \"Andika\",\n            paddingLeft: Platform.OS === \"ios\" ? 15 : 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 19\n          }\n        }, \"Return\")), React.createElement(DatePicker, {\n          style: {\n            width: 200\n          },\n          date: toDate,\n          mode: \"date\",\n          placeholder: \"select date\",\n          format: \"YYYY-MM-DD\",\n          minDate: fromDate,\n          confirmBtnText: \"Confirm\",\n          cancelBtnText: \"Cancel\",\n          onDateChange: function onDateChange(date) {\n            handleToDate(date);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }\n        }))));\n\n      case 5:\n        return React.createElement(Destination, {\n          tourName: \"Honeymoon Tour\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc: \"https://image.freepik.com/free-vector/destination-concept-illustration_114360-453.jpg\",\n          destination: destination,\n          preferanece: preferanece,\n          startPoint: startPoint,\n          setDestination: function setDestination(value) {\n            return _setDestination(value);\n          },\n          setStartPoint: function setStartPoint(value) {\n            return _setStartPoint(value);\n          },\n          setPreferanece: function setPreferanece(value) {\n            return _setPreferanece(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 11\n          }\n        });\n\n      case 6:\n        return React.createElement(Checkout, {\n          tourName: \"Honeymoon Tour\",\n          nextStep: function nextStep() {\n            return _nextStep();\n          },\n          prevStep: function prevStep() {\n            return _prevStep();\n          },\n          imgSrc: \"https://image.freepik.com/free-vector/business-background-design_1270-63.jpg\",\n          setName: function setName(value) {\n            return _setName(value);\n          },\n          setNumber: function setNumber(value) {\n            return _setNumber(value);\n          },\n          setBudget: function setBudget(value) {\n            return _setBudget(value);\n          },\n          submitData: function submitData() {\n            return _submitData();\n          },\n          name: name,\n          number: number,\n          tourType: tourType,\n          budget: budget,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 11\n          }\n        });\n\n      case 7:\n        return React.createElement(SubmittedQuery, {\n          navigation: navigation,\n          type: \"My Request\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        break;\n    }\n  };\n\n  var _submitData = function _submitData() {\n    var userID = userInfo.userID;\n    var v = moment().format(\"L\");\n    var r = Math.floor((Math.random() + 4) * 345334);\n    var data = {\n      requestID: \"TO-\" + v.slice(3, 5) + v.slice(0, 2) + v.slice(8) + \"-\" + r,\n      tourCategory: \"Honeymoon Trip\",\n      fromDate: fromDate,\n      travelMode: travelMode,\n      startPoint: startPoint,\n      toDate: toDate,\n      preferanece: preferanece,\n      destination: destination,\n      name: name,\n      number: number,\n      budget: budget,\n      status: \"Query Received\",\n      userID: userID,\n      plans: \"\",\n      reports: \"\",\n      requestDate: new Date().toDateString(),\n      tourCost: 0\n    };\n    database().ref(\"requests\").push(data).then(function (data) {\n      var token = getExpoToken(userID);\n      sendEmail(userInfo.email, destination);\n      var message = {\n        to: token,\n        sound: \"default\",\n        title: \"Query Received\",\n        body: \"Congratulations! You are one step closer to your dream tour. Your query is under review and tour On will contact you with more details and suggestions. The booking process will start after your confirmation. Please check the My Requests tab for updates.\"\n      };\n      sendPushNotification(message);\n\n      _nextStep();\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }\n  }, step == 1 || step == 7 ? null : React.createElement(View, {\n    style: styles.progressContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      borderRadius: 20,\n      height: 6.5,\n      borderWidth: 2,\n      borderColor: \"#a2cffe\",\n      paddingVertical: 1,\n      width: WIDTH == 360 ? 38.5 * step : 60 * step,\n      overflow: \"hidden\",\n      backgroundColor: \"#a2cffe\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }\n  })), renderForm(step)));\n};\n\nexport default Honeymoon;\nvar styles = StyleSheet.create({\n  progressContainer: {\n    height: 10,\n    marginHorizontal: 25,\n    bottom: 0,\n    justifyContent: \"flex-start\",\n    borderWidth: 2,\n    borderColor: \"#f0f8ff\",\n    borderRadius: 20,\n    paddingTop: Platform.OS === \"ios\" ? 70 : 20,\n    bottom: 0\n  },\n  dateContainer: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    marginVertical: 20\n  },\n  container: {\n    backgroundColor: \"#fff\",\n    flex: 1,\n    position: \"relative\"\n  },\n  arrowsContainer: {\n    alignItems: \"flex-end\",\n    justifyContent: \"center\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginHorizontal: WIDTH / 15,\n    position: \"relative\"\n  },\n  imageContainer: {\n    height: HEIGHT / 2.5,\n    width: WIDTH,\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  text: {\n    marginTop: 8,\n    fontSize: 16,\n    fontFamily: \"Andika\",\n    textAlign: \"justify\"\n  }\n});","map":{"version":3,"sources":["D:/Project/TourOn/Touron-Mobileapp-1/src/Screens/CategoryScreens/Honeymoon.js"],"names":["React","useState","useEffect","useContext","DatePicker","AntDesign","TouchableOpacity","Tourname","Checkout","Destination","Tourtype","Travelmode","database","AuthContext","SubmittedQuery","moment","sendEmail","sendPushNotification","getExpoToken","WIDTH","Dimensions","get","width","HEIGHT","height","useIsFocused","Honeymoon","navigation","route","fromDate","setFromDate","tourType","setTourType","toDate","setToDate","travelMode","setTravelMode","preferanece","setPreferanece","destination","setDestination","startPoint","setStartPoint","name","setName","budget","setBudget","number","setNumber","step","setStep","isLoggedIn","user","userInfo","isFocused","mounted","params","undefined","countryName","type","jumpTo","handleFromDate","date","handleToDate","nextStep","prevStep","description","renderForm","require","alignItems","justifyContent","flexDirection","marginHorizontal","position","fontSize","fontFamily","marginTop","Platform","OS","styles","imageContainer","uri","marginVertical","textAlign","dateContainer","paddingLeft","useNativeDriver","add","format","value","submitData","userID","v","r","Math","floor","random","data","requestID","slice","tourCategory","status","plans","reports","requestDate","Date","toDateString","tourCost","ref","push","then","token","email","message","to","sound","title","body","catch","err","console","log","flex","container","progressContainer","borderRadius","borderWidth","borderColor","paddingVertical","overflow","backgroundColor","StyleSheet","create","bottom","paddingTop","arrowsContainer","text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport DatePicker from \"react-native-datepicker\";\r\n\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  ScrollView,\r\n  KeyboardAvoidingView,\r\n  Dimensions,\r\n  Text,\r\n  Image,\r\n  Platform,\r\n} from \"react-native\";\r\nimport { AntDesign } from \"@expo/vector-icons\";\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\nimport Tourname from \"./Reusable components/Tourname\";\r\nimport Checkout from \"./Reusable components/Checkout\";\r\nimport Destination from \"./Reusable components/Destination\";\r\nimport Tourtype from \"./Reusable components/Tourtype\";\r\nimport Travelmode from \"./Reusable components/Travelmode\";\r\nimport { database } from \"firebase\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport SubmittedQuery from \"./Reusable components/SubmittedQuery\";\r\nimport moment from \"moment\";\r\nimport {\r\n  sendEmail,\r\n  sendPushNotification,\r\n  getExpoToken,\r\n} from \"./utils/PushNotification\";\r\nconst WIDTH = Dimensions.get(\"window\").width;\r\nconst HEIGHT = Dimensions.get(\"window\").height;\r\nimport { useIsFocused } from \"@react-navigation/native\";\r\n\r\nconst Honeymoon = ({ navigation, route }) => {\r\n  const [fromDate, setFromDate] = useState(\"\");\r\n  const [tourType, setTourType] = React.useState(\"\");\r\n  const [toDate, setToDate] = useState(\"\");\r\n  const [travelMode, setTravelMode] = React.useState(\"\");\r\n  const [preferanece, setPreferanece] = React.useState(\"\");\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [startPoint, setStartPoint] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [budget, setBudget] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [step, setStep] = useState(1);\r\n  const { isLoggedIn, user, userInfo } = useContext(AuthContext);\r\n  const isFocused = useIsFocused();\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (route.params !== undefined) {\r\n        const countryName = route.params.countryName;\r\n        const type = route.params.type;\r\n        {\r\n          type == \"International\" ? setTourType(type) : setTourType(\"Domestic\");\r\n        }\r\n        setStep(3);\r\n        setDestination(countryName);\r\n      }\r\n    }\r\n    return () => (mounted = false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (!isLoggedIn) {\r\n        navigation.jumpTo(\"SignInScreen\");\r\n      }\r\n    }\r\n    return () => (mounted = false);\r\n  }, [isFocused]);\r\n\r\n  const handleFromDate = (date) => {\r\n    setFromDate(date);\r\n  };\r\n\r\n  const handleToDate = (date) => {\r\n    setToDate(date);\r\n  };\r\n\r\n  const nextStep = () => {\r\n    setStep(step + 1);\r\n  };\r\n  const prevStep = () => {\r\n    setStep(step - 1);\r\n  };\r\n\r\n  const description = `Are you the newly-wed, blissed-out couple looking for a perfect romantic getaway? Then look no further! tour On will help you plan the magical Honeymoon of your dreams. \r\n\r\nThis tour is exclusively for honeymooners and we provide you with suggestions of the most beautiful places with moonlight walks on magnificent riverbanks, candlelit dinners within the beauty of nature and the perfect tour spots for you and your better half. We provide you all the suggestions but the decision of what to choose and where to go is completely up to you. You dream, we make it happen!\r\n`;\r\n\r\n  const renderForm = (step) => {\r\n    switch (step) {\r\n      case 1:\r\n        return (\r\n          <Tourname\r\n            tourName={\"Honeymoon Tour\"}\r\n            navigation={navigation}\r\n            step={() => nextStep()}\r\n            imgSrc={\r\n              \"https://image.freepik.com/free-vector/newlywed-couple-is-driving-car-their-honeymoon_3446-291.jpg\"\r\n            }\r\n            description={description}\r\n          />\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <Tourtype\r\n            imgSrc1={require(\"../../../assets/planned-tour/india.png\")}\r\n            imgScr2={require(\"../../../assets/planned-tour/International.png\")}\r\n            tourName={\"Honeymoon Tour\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            tourType={tourType}\r\n            setDomestic={() => setTourType(\"Domestic\")}\r\n            setInternational={() => setTourType(\"International\")}\r\n          />\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <Travelmode\r\n            tourName={\"Honeymoon Tour\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc1={\r\n              \"https://image.freepik.com/free-vector/train-ride-railroad_1308-11154.jpg\"\r\n            }\r\n            imgScr2={\r\n              \"https://image.freepik.com/free-vector/airplane-sky_1308-31202.jpg\"\r\n            }\r\n            name1={\"Train\"}\r\n            name2={\"Flight\"}\r\n            travelMode={travelMode}\r\n            setTrain={() => setTravelMode(\"Train\")}\r\n            setFlight={() => setTravelMode(\"Flight\")}\r\n          />\r\n        );\r\n\r\n      case 4:\r\n        return (\r\n          <View style={{ alignItems: \"center\" }}>\r\n            <View\r\n              style={{\r\n                width: WIDTH * 0.9,\r\n                alignItems: \"flex-end\",\r\n                justifyContent: \"center\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"space-between\",\r\n                marginHorizontal: 30,\r\n                position: \"relative\",\r\n              }}\r\n            >\r\n              <TouchableOpacity\r\n                onPress={() => {\r\n                  prevStep();\r\n                }}\r\n              >\r\n                <View>\r\n                  <AntDesign name=\"arrowleft\" size={28} />\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <Text\r\n                style={{\r\n                  fontSize: 20,\r\n                  fontFamily: \"NewYorkl\",\r\n                  marginTop: Platform.OS == \"android\" ? HEIGHT / 14 : 40,\r\n                }}\r\n              >\r\n                Honeymoon Trip\r\n              </Text>\r\n\r\n              <TouchableOpacity\r\n                onPress={() => {\r\n                  nextStep();\r\n                }}\r\n              >\r\n                <View>\r\n                  {fromDate !== \"\" && toDate !== \"\" ? (\r\n                    <AntDesign name=\"arrowright\" size={28} />\r\n                  ) : null}\r\n                </View>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.imageContainer}>\r\n              <Image\r\n                style={{ height: HEIGHT / 3, width: WIDTH * 0.8 }}\r\n                source={{\r\n                  uri: \"https://image.freepik.com/free-vector/build-your-program-appointment-booking_23-2148552954.jpg\",\r\n                }}\r\n              />\r\n            </View>\r\n            <View style={{ marginVertical: 20 }}>\r\n              <Text\r\n                style={{\r\n                  fontSize: 16,\r\n                  textAlign: \"center\",\r\n                  fontFamily: \"NewYorkl\",\r\n                }}\r\n              >\r\n                When do you want to embark on your journey?\r\n              </Text>\r\n              <View style={styles.dateContainer}>\r\n                <View style={{ width: WIDTH / 3.8 }}>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 18,\r\n                      fontFamily: \"Andika\",\r\n                      paddingLeft: 5,\r\n                    }}\r\n                  >\r\n                    Onward\r\n                  </Text>\r\n                </View>\r\n\r\n                <DatePicker\r\n                  onOpenModal={{ useNativeDriver: true }}\r\n                  style={{ width: 200 }}\r\n                  date={fromDate}\r\n                  mode=\"date\"\r\n                  placeholder=\"select date\"\r\n                  format=\"YYYY-MM-DD\"\r\n                  // minDate=\"2016-05-01\"\r\n                  minDate={moment().add(14, \"days\").format(\"YYYY-MM-DD\")}\r\n                  confirmBtnText=\"Confirm\"\r\n                  cancelBtnText=\"Cancel\"\r\n                  onDateChange={(date) => {\r\n                    handleFromDate(date);\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.dateContainer}>\r\n                <View style={{ width: WIDTH / 3.8 }}>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 20,\r\n                      fontFamily: \"Andika\",\r\n                      paddingLeft: Platform.OS === \"ios\" ? 15 : 10,\r\n                    }}\r\n                  >\r\n                    Return\r\n                  </Text>\r\n                </View>\r\n                <DatePicker\r\n                  style={{ width: 200 }}\r\n                  date={toDate}\r\n                  mode=\"date\"\r\n                  placeholder=\"select date\"\r\n                  format=\"YYYY-MM-DD\"\r\n                  minDate={fromDate}\r\n                  confirmBtnText=\"Confirm\"\r\n                  cancelBtnText=\"Cancel\"\r\n                  onDateChange={(date) => {\r\n                    handleToDate(date);\r\n                  }}\r\n                />\r\n              </View>\r\n            </View>\r\n          </View>\r\n        );\r\n      case 5:\r\n        return (\r\n          <Destination\r\n            tourName={\"Honeymoon Tour\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc={\r\n              \"https://image.freepik.com/free-vector/destination-concept-illustration_114360-453.jpg\"\r\n            }\r\n            destination={destination}\r\n            preferanece={preferanece}\r\n            startPoint={startPoint}\r\n            setDestination={(value) => setDestination(value)}\r\n            setStartPoint={(value) => setStartPoint(value)}\r\n            setPreferanece={(value) => setPreferanece(value)}\r\n          />\r\n        );\r\n      case 6:\r\n        return (\r\n          <Checkout\r\n            tourName={\"Honeymoon Tour\"}\r\n            nextStep={() => nextStep()}\r\n            prevStep={() => prevStep()}\r\n            imgSrc={\r\n              \"https://image.freepik.com/free-vector/business-background-design_1270-63.jpg\"\r\n            }\r\n            setName={(value) => setName(value)}\r\n            setNumber={(value) => setNumber(value)}\r\n            setBudget={(value) => setBudget(value)}\r\n            submitData={() => submitData()}\r\n            name={name}\r\n            number={number}\r\n            tourType={tourType}\r\n            budget={budget}\r\n          />\r\n        );\r\n\r\n      case 7:\r\n        return <SubmittedQuery navigation={navigation} type={\"My Request\"} />;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const submitData = () => {\r\n    const userID = userInfo.userID;\r\n    const v = moment().format(\"L\");\r\n    const r = Math.floor((Math.random() + 4) * 345334);\r\n\r\n    const data = {\r\n      requestID: `TO-${v.slice(3, 5)}${v.slice(0, 2)}${v.slice(8)}-${r}`,\r\n      tourCategory: \"Honeymoon Trip\",\r\n      fromDate: fromDate,\r\n      travelMode: travelMode,\r\n      startPoint: startPoint,\r\n      toDate: toDate,\r\n      preferanece: preferanece,\r\n      destination: destination,\r\n      name: name,\r\n      number: number,\r\n      budget: budget,\r\n      status: \"Query Received\",\r\n      userID: userID,\r\n      plans: \"\",\r\n      reports: \"\",\r\n      requestDate: new Date().toDateString(),\r\n\r\n      tourCost: 0,\r\n    };\r\n\r\n    database()\r\n      .ref(`requests`)\r\n      .push(data)\r\n      .then((data) => {\r\n        const token = getExpoToken(userID);\r\n        sendEmail(userInfo.email, destination);\r\n        const message = {\r\n          to: token,\r\n          sound: \"default\",\r\n          title: `Query Received`,\r\n          body: `Congratulations! You are one step closer to your dream tour. Your query is under review and tour On will contact you with more details and suggestions. The booking process will start after your confirmation. Please check the My Requests tab for updates.`,\r\n        };\r\n        sendPushNotification(message);\r\n        nextStep();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <KeyboardAvoidingView style={{ flex: 1 }}>\r\n      <ScrollView style={styles.container}>\r\n        {step == 1 || step == 7 ? null : (\r\n          <View style={styles.progressContainer}>\r\n            <View\r\n              style={{\r\n                borderRadius: 20,\r\n                height: 6.5,\r\n                borderWidth: 2,\r\n                borderColor: \"#a2cffe\",\r\n                paddingVertical: 1,\r\n                width: WIDTH == 360 ? 38.5 * step : 60 * step,\r\n                overflow: \"hidden\",\r\n                backgroundColor: \"#a2cffe\",\r\n              }}\r\n            ></View>\r\n          </View>\r\n        )}\r\n        {renderForm(step)}\r\n      </ScrollView>\r\n    </KeyboardAvoidingView>\r\n  );\r\n};\r\n\r\nexport default Honeymoon;\r\n\r\nconst styles = StyleSheet.create({\r\n  progressContainer: {\r\n    height: 10,\r\n    marginHorizontal: 25,\r\n    bottom: 0,\r\n    justifyContent: \"flex-start\",\r\n    borderWidth: 2,\r\n    borderColor: \"#f0f8ff\",\r\n    borderRadius: 20,\r\n    paddingTop: Platform.OS === \"ios\" ? 70 : 20,\r\n\r\n    bottom: 0,\r\n  },\r\n  dateContainer: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    marginVertical: 20,\r\n  },\r\n  container: {\r\n    backgroundColor: \"#fff\",\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n  arrowsContainer: {\r\n    alignItems: \"flex-end\",\r\n    justifyContent: \"center\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginHorizontal: WIDTH / 15,\r\n    position: \"relative\",\r\n  },\r\n  imageContainer: {\r\n    height: HEIGHT / 2.5,\r\n    width: WIDTH,\r\n    alignItems: \"center\",\r\n    marginTop: 20,\r\n  },\r\n  text: {\r\n    marginTop: 8,\r\n    fontSize: 16,\r\n    fontFamily: \"Andika\",\r\n    textAlign: \"justify\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}